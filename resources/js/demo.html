<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileHub Components Demo</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vuedraggable@4/dist/vuedraggable.umd.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background: #f8fafc;
        }
        
        .demo-container {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
        }
        
        .demo-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #1f2937;
        }
        
        .demo-description {
            color: #6b7280;
            margin-bottom: 2rem;
        }
        
        .demo-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .demo-control {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
        
        .demo-control label {
            font-size: 0.875rem;
            font-weight: 600;
            color: #374151;
        }
        
        .demo-control input,
        .demo-control select {
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 0.875rem;
        }
        
        .demo-control input[type="checkbox"] {
            width: auto;
        }
        
        .results-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
        }
        
        .results-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #1f2937;
        }
        
        .results-content {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 1rem;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Courier New', monospace;
            font-size: 0.875rem;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .toast {
            position: fixed;
            top: 1rem;
            right: 1rem;
            padding: 1rem 1.5rem;
            border-radius: 6px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }
        
        .toast.success {
            background: #10b981;
        }
        
        .toast.error {
            background: #ef4444;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <h1 style="text-align: center; color: #1f2937; margin-bottom: 3rem;">
            üöÄ FileHub Components Demo
        </h1>
        
        <!-- Vue.js Demo -->
        <div class="demo-container">
            <h2 class="demo-title">Vue.js Component</h2>
            <p class="demo-description">
                Interactive demo of the FileHub Vue.js component with customizable options.
            </p>
            
            <div class="demo-controls">
                <div class="demo-control">
                    <label>Collection:</label>
                    <input v-model="vueConfig.collection" type="text" />
                </div>
                <div class="demo-control">
                    <label>Max Files:</label>
                    <input v-model.number="vueConfig.maxFiles" type="number" min="1" max="20" />
                </div>
                <div class="demo-control">
                    <label>Max Size (KB):</label>
                    <input v-model.number="vueConfig.maxSize" type="number" min="1024" />
                </div>
                <div class="demo-control">
                    <label>Accept:</label>
                    <select v-model="vueConfig.accept">
                        <option value="image/*">Images Only</option>
                        <option value="image/*,video/*">Images & Videos</option>
                        <option value=".pdf,.doc,.docx">Documents Only</option>
                        <option value="*">All Files</option>
                    </select>
                </div>
                <div class="demo-control">
                    <label>
                        <input v-model="vueConfig.multiple" type="checkbox" />
                        Multiple Files
                    </label>
                </div>
                <div class="demo-control">
                    <label>
                        <input v-model="vueConfig.showCaption" type="checkbox" />
                        Show Caption
                    </label>
                </div>
            </div>
            
            <file-hub-uploader
                :upload-token="uploadToken"
                :collection="vueConfig.collection"
                :multiple="vueConfig.multiple"
                :accept="vueConfig.accept"
                :max-size="vueConfig.maxSize"
                :max-files="vueConfig.maxFiles"
                :show-caption="vueConfig.showCaption"
                upload-text="Drop your files here or click to browse"
                upload-sub-text="Drag files to reorder them"
                @upload-success="handleVueUploadSuccess"
                @upload-error="handleVueUploadError"
                @files-changed="handleVueFilesChanged"
                @upload-progress="handleVueUploadProgress"
            />
            
            <div class="results-section">
                <h3 class="results-title">Events Log:</h3>
                <div class="results-content">{{ vueResults }}</div>
            </div>
        </div>
        
        <!-- React Demo -->
        <div class="demo-container">
            <h2 class="demo-title">React Component</h2>
            <p class="demo-description">
                The same functionality available as a React component. 
                <em>(This would be rendered in a React app)</em>
            </p>
            
            <div style="background: #f3f4f6; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                <h4 style="margin: 0 0 1rem 0;">React Usage Example:</h4>
                <pre style="margin: 0; font-family: 'SF Mono', Monaco, monospace; font-size: 0.875rem; overflow-x: auto;"><code>&lt;FileHubUploader
  uploadToken="your-token-here"
  collection="gallery"
  multiple={true}
  accept="image/*"
  maxSize={5120}
  maxFiles={10}
  showCaption={true}
  onUploadSuccess={(files) => console.log('Success:', files)}
  onUploadError={(errors) => console.error('Error:', errors)}
  onFilesChanged={(files) => setFiles(files)}
  onUploadProgress={(data) => console.log('Progress:', data)}
/></code></pre>
            </div>
        </div>
        
        <!-- Features Demo -->
        <div class="demo-container">
            <h2 class="demo-title">Key Features Demonstration</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                <div style="padding: 1rem; background: #f8faff; border-radius: 6px; border: 1px solid #e0e7ff;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #3730a3;">üìÅ Drag & Drop</h4>
                    <p style="margin: 0; font-size: 0.875rem; color: #6b7280;">
                        Native drag and drop support with visual feedback
                    </p>
                </div>
                <div style="padding: 1rem; background: #f0fdf4; border-radius: 6px; border: 1px solid #dcfce7;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #166534;">üîÑ File Reordering</h4>
                    <p style="margin: 0; font-size: 0.875rem; color: #6b7280;">
                        Drag files to reorder them before upload
                    </p>
                </div>
                <div style="padding: 1rem; background: #fef7ff; border-radius: 6px; border: 1px solid #f3e8ff;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #7c2d12;">‚úèÔ∏è Inline Editing</h4>
                    <p style="margin: 0; font-size: 0.875rem; color: #6b7280;">
                        Edit titles and captions directly
                    </p>
                </div>
                <div style="padding: 1rem; background: #fffbeb; border-radius: 6px; border: 1px solid #fef3c7;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #92400e;">üìä Progress Tracking</h4>
                    <p style="margin: 0; font-size: 0.875rem; color: #6b7280;">
                        Real-time upload progress indicators
                    </p>
                </div>
                <div style="padding: 1rem; background: #f0fdfa; border-radius: 6px; border: 1px solid #ccfbf1;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #134e4a;">üñºÔ∏è Image Previews</h4>
                    <p style="margin: 0; font-size: 0.875rem; color: #6b7280;">
                        Automatic thumbnail generation
                    </p>
                </div>
                <div style="padding: 1rem; background: #fef2f2; border-radius: 6px; border: 1px solid #fecaca;">
                    <h4 style="margin: 0 0 0.5rem 0; color: #991b1b;">üîí Security</h4>
                    <p style="margin: 0; font-size: 0.875rem; color: #6b7280;">
                        Token-based authentication
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Toast notifications -->
        <div v-if="toast.show" :class="['toast', toast.type]">
            {{ toast.message }}
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        const { VueDraggable } = vuedraggable;

        // Simple FileHub Uploader Component for demo
        const FileHubUploader = {
            template: `
                <div class="filehub-uploader-demo" style="
                    border: 2px dashed #d1d5db;
                    border-radius: 12px;
                    padding: 3rem 2rem;
                    text-align: center;
                    background: #fafafa;
                    cursor: pointer;
                    transition: all 0.3s ease;
                " 
                @click="simulateUpload"
                @dragover.prevent="isDragOver = true"
                @dragleave.prevent="isDragOver = false"
                @drop.prevent="handleDrop"
                :style="{ 
                    borderColor: isDragOver ? '#3b82f6' : '#d1d5db',
                    background: isDragOver ? '#eff6ff' : '#fafafa',
                    transform: isDragOver ? 'scale(1.02)' : 'scale(1)'
                }">
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
                        <svg style="width: 3rem; height: 3rem; color: #6b7280;" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        <div>
                            <div style="font-size: 1.125rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;">
                                {{ uploadText }}
                            </div>
                            <div style="font-size: 0.875rem; color: #6b7280;">
                                {{ uploadSubText }}
                            </div>
                        </div>
                        <div style="font-size: 0.75rem; color: #9ca3af;">
                            Collection: {{ collection }} | Max: {{ maxFiles }} files | Size: {{ maxSize }}KB
                        </div>
                    </div>
                </div>
            `,
            props: {
                uploadToken: String,
                collection: String,
                multiple: Boolean,
                accept: String,
                maxSize: Number,
                maxFiles: Number,
                showCaption: Boolean,
                uploadText: String,
                uploadSubText: String
            },
            emits: ['upload-success', 'upload-error', 'files-changed', 'upload-progress'],
            data() {
                return {
                    isDragOver: false
                };
            },
            methods: {
                simulateUpload() {
                    // Simulate file selection and upload
                    const mockFiles = [
                        {
                            name: 'sample-image.jpg',
                            size: 1024000,
                            type: 'image/jpeg',
                            title: 'Beautiful Landscape',
                            caption: 'A stunning view from the mountains'
                        }
                    ];
                    
                    this.$emit('files-changed', mockFiles);
                    
                    // Simulate upload progress
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += 10;
                        this.$emit('upload-progress', {
                            file: mockFiles[0],
                            progress: progress
                        });
                        
                        if (progress >= 100) {
                            clearInterval(interval);
                            this.$emit('upload-success', [{
                                file: mockFiles[0],
                                response: {
                                    id: 123,
                                    url: 'https://example.com/uploads/sample-image.jpg',
                                    thumbnail: 'https://example.com/uploads/thumbs/sample-image.jpg'
                                }
                            }]);
                        }
                    }, 200);
                },
                
                handleDrop(event) {
                    this.isDragOver = false;
                    const files = Array.from(event.dataTransfer.files);
                    
                    if (files.length > this.maxFiles) {
                        this.$emit('upload-error', `Maximum ${this.maxFiles} files allowed`);
                        return;
                    }
                    
                    const mockFileData = files.map(file => ({
                        name: file.name,
                        size: file.size,
                        type: file.type,
                        title: file.name.split('.')[0],
                        caption: ''
                    }));
                    
                    this.$emit('files-changed', mockFileData);
                    
                    // Simulate upload
                    setTimeout(() => {
                        this.$emit('upload-success', mockFileData.map(file => ({
                            file: file,
                            response: { id: Math.random(), url: 'https://example.com/uploaded/' + file.name }
                        })));
                    }, 1000);
                }
            }
        };

        createApp({
            components: {
                FileHubUploader
            },
            data() {
                return {
                    uploadToken: 'demo-token-123',
                    vueConfig: {
                        collection: 'gallery',
                        multiple: true,
                        accept: 'image/*',
                        maxSize: 5120,
                        maxFiles: 10,
                        showCaption: true
                    },
                    vueResults: 'No events yet. Try uploading some files!',
                    toast: {
                        show: false,
                        message: '',
                        type: 'success'
                    }
                };
            },
            methods: {
                handleVueUploadSuccess(files) {
                    const result = `[${new Date().toLocaleTimeString()}] UPLOAD SUCCESS:\n${JSON.stringify(files, null, 2)}\n\n${this.vueResults}`;
                    this.vueResults = result;
                    this.showToast('Upload successful!', 'success');
                },
                
                handleVueUploadError(errors) {
                    const result = `[${new Date().toLocaleTimeString()}] UPLOAD ERROR:\n${JSON.stringify(errors, null, 2)}\n\n${this.vueResults}`;
                    this.vueResults = result;
                    this.showToast('Upload failed!', 'error');
                },
                
                handleVueFilesChanged(files) {
                    const result = `[${new Date().toLocaleTimeString()}] FILES CHANGED:\n${JSON.stringify(files, null, 2)}\n\n${this.vueResults}`;
                    this.vueResults = result;
                },
                
                handleVueUploadProgress(data) {
                    const result = `[${new Date().toLocaleTimeString()}] UPLOAD PROGRESS:\nFile: ${data.file.name}, Progress: ${data.progress}%\n\n${this.vueResults}`;
                    this.vueResults = result;
                },
                
                showToast(message, type = 'success') {
                    this.toast = {
                        show: true,
                        message,
                        type
                    };
                    
                    setTimeout(() => {
                        this.toast.show = false;
                    }, 3000);
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
